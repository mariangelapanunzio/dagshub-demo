schema: '2.0'
stages:
  extract:
    cmd: unzip data/Posts.xml.zip -d data
    deps:
    - path: data/Posts.xml.zip
      hash: md5
      md5: ce68b98d82545628782c66192c96f2d2
      size: 10567868
    outs:
    - path: data/Posts.xml
      hash: md5
      md5: a86ca87250ed8e54a9e2e8d6d34c252e
      size: 37916850
  transform:
    cmd: python code/xml_to_tsv.py data/Posts.xml data/Posts.tsv
    deps:
    - path: code/xml_to_tsv.py
      hash: md5
      md5: f491b8b1d164962988473dfac85dead0
      size: 1494
    - path: data/Posts.xml
      hash: md5
      md5: a86ca87250ed8e54a9e2e8d6d34c252e
      size: 37916850
    outs:
    - path: data/Posts.tsv
      hash: md5
      md5: 2910bc798f44dc244424712c8f88e879
      size: 25679203
  split:
    cmd: python code/split_train_test.py 0.3 1234
    deps:
    - path: code/split_train_test.py
      hash: md5
      md5: 456fb27e82a75ef2d22612d6cd9a9f38
      size: 1925
    - path: data/Posts.tsv
      hash: md5
      md5: 2910bc798f44dc244424712c8f88e879
      size: 25679203
    outs:
    - path: data/Posts-test.tsv
      hash: md5
      md5: ff4d33d630ec6a94677ee960f31f48d6
      size: 7646863
    - path: data/Posts-train.tsv
      hash: md5
      md5: db1644b918b42bb9c00fef0cb6730bf2
      size: 18264020
  featurize:
    cmd: python code/featurization.py
    deps:
    - path: code/featurization.py
      hash: md5
      md5: 6879bb6f15aa1230248b5ebf642168aa
      size: 2199
    - path: data/Posts-test.tsv
      hash: md5
      md5: ff4d33d630ec6a94677ee960f31f48d6
      size: 7646863
    - path: data/Posts-train.tsv
      hash: md5
      md5: db1644b918b42bb9c00fef0cb6730bf2
      size: 18264020
    outs:
    - path: data/matrix-test.pkl
      hash: md5
      md5: a941efd74a5492ce2d788e12ef9e96b0
      size: 3423414
    - path: data/matrix-train.pkl
      hash: md5
      md5: 0ddc5b120fea2ae2c24d7ba1d5337e34
      size: 8086151
  train:
    cmd: python code/train_model.py 1234
    deps:
    - path: code/train_model.py
      hash: md5
      md5: 45edc9709901672818fc8d4a7caeb5eb
      size: 945
    - path: data/matrix-train.pkl
      hash: md5
      md5: 0ddc5b120fea2ae2c24d7ba1d5337e34
      size: 8086151
    outs:
    - path: data/model.pkl
      hash: md5
      md5: cc98953e504f4855e84738758efea282
      size: 5951523
  evaluate:
    cmd: python code/evaluate.py
    deps:
    - path: code/evaluate.py
      hash: md5
      md5: cc9290b26b1b111359b7ab0ea0badf24
      size: 947
    - path: data/matrix-test.pkl
      hash: md5
      md5: a941efd74a5492ce2d788e12ef9e96b0
      size: 3423414
    - path: data/model.pkl
      hash: md5
      md5: cc98953e504f4855e84738758efea282
      size: 5951523
    outs:
    - path: metrics/auc.metric
      hash: md5
      md5: b3742ba8090a4fa4004fae1a9b4e4921
      size: 15
